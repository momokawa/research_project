<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro">
<!-- defined num and set of link and joint -->
<!-- lowest level of xacro -->

<!-- valiables to be used -->
   <material name="black">
      <color rgba="0.2 0.2 0.2 1.0" />
   </material>
<!-- FIXME add color -->

<!-- bracket_1 -->
  <xacro:macro name="bracket_1" params="parent *origin">
    <joint name="bracket_0_1_joint" type="fixed">
      <xacro:insert_block name="origin" />
      <parent link="${parent}" />
      <child link="bracket_1_link" />
    </joint>
    <link name="bracket_1_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to roate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_1_simple.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="1.702" /> <!-- kg Fe -->
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- TODO check rpy -->
        <inertia ixx="3.189E+06" ixy="3.570E-10" ixz="-1.566E-04" iyy="3.186E+06" iyz="7.140E-10" izz="3.186E+06" />
      </inertial>
      <!-- TODO add collision -->
	
    </link>
  </xacro:macro>

<!-- bracket_2 -->
  <xacro:macro name="bracket_2" params="parent *origin"> <!-- FIXME add llimit ulimit vlimit -->
    <joint name="bracket_1_2_joint" type="continuous">
      <xacro:insert_block name="origin"/>
      <axis xyz="0 0 1" />
      <parent link="${parent}" />
      <child link="bracket_2_link"/>

    </joint>

    <link name="bracket_2_link">
      <visual> <!-- FIXME change this to stl -->
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_2.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <!-- add collision and inertial -->
      </visual>

      <inertial>
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- TODO check whether it is correct to set rpy as it is -->
        <mass value="4.758" /> <!-- kg Fe --> <!-- TODO need to check -->
        <inertia ixx="7.749E+06" ixy="6.590E+06" ixz="-0.022" iyy="3.000E+07" iyz="0.012" izz="3.161E+07" />
      </inertial>

      <!-- TODO add collision -->

    </link>
  </xacro:macro>

<!-- bracket_3 -->
<!-- FIXME maybe will be deleted, when combining with brackets -->
  <xacro:macro name="bracket_3" params="parent *origin">
    <!-- FIXME add limit and ulimit vilimit -->
    <joint name="brackt_2_3_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <parent link="${parent}" />
      <child link="bracket_3_link" />
    </joint>

    <link name="bracket_3_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to roate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_3.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="3.912" /> <!-- kg Fe TODO need to check -->
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- TODO check rpy -->
        <inertia ixx="5.691E+06" ixy="-3.777E+05" ixz="-0.003" iyy="1.386E+07" iyz="-0.012" izz="1.537E+07" />
      </inertial>

      <!-- TODO add collision -->
    </link>
  </xacro:macro>
 
  <!-- bracket_4 -->
  <xacro:macro name="bracket_4" params="parent *origin">
    <!-- add color and limis -->
    <joint name="bracket_3_4_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <axis xyz="0 0 1" />
      <parent link="${parent}" />
      <child link="bracket_4_link" />
    </joint>
    <link name="bracket_4_link">
      
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_4.stl" scale="0.001 0.001 0.001"  />
        </geometry>
      </visual>

      <inertial>
        <mass value="3.912" /> <!-- kg Fe TODO need to check -->
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- TODO check rpy -->
        <inertia ixx="5.793E+06" ixy="6.157E+06" ixz="-0.021" iyy="2.487E+07" iyz="0.012" izz="2.648E+07" />
      </inertial>

      <!-- TODO add collision -->

    </link>
  </xacro:macro>


  <!-- bracket_5 -->
  <xacro:macro name="bracket_5" params="parent *origin">
    <joint name="bracket_4_5_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <parent link="${parent}" />
      <child link="bracket_5_link" />
    </joint>

    <link name="bracket_5_link">
      
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_5.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>

			<inertial>
        <mass value="4.097" /> <!-- kg Fe TODO need to check -->
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- TODO check rpy -->
        <inertia ixx="5.810E+06" ixy="-3.746E+06" ixz="14.923" iyy="2.049E+07" iyz="15.891" izz="2.236E+07" />
      </inertial>

			<!-- TODO add collision -->

    </link>
  </xacro:macro>

  <!-- bracket_6 -->
  <xacro:macro name="bracket_6" params="parent *origin">
    <joint name="bracket_5_6_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <parent link="${parent}"  />
      <child link="bracket_6_link" />
    </joint>

    <link name="bracket_6_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to roate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_6.stl" scale="0.001 0.001 0.001"  />
        </geometry>
      </visual>

			<inertial>
        <mass value="2.888" /> <!-- kg Fe TODO check this -->
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- TODO check rpy -->
        <inertia ixx="3.340E+06" ixy="1.389E+05" ixz="0.002" iyy="1.076E+07" iyz="-0.009" izz="1.130E+07" />
      </inertial>
			<!-- TODO add collision -->

    </link>
  </xacro:macro>

  <!-- bracket_7 -->
  <xacro:macro name="bracket_7" params="parent *origin">
    <joint name="bracket_7_joint" type="continuous">
      <xacro:insert_block name="origin"/>
      <axis xyz="0 0 1" />
      <parent link="${parent}" />
      <child link="bracket_7_link" />
    </joint> 

    <link name="bracket_7_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_7.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>

			<inertial>
        <mass value="0.825" /> <!-- kg Fe TODO check this -->
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- TODO check rpy -->
        <inertia ixx="9.705E+05" ixy="-6.247E-10" ixz="2.064E-04" iyy="7.480E+05" iyz="3.570E-10" izz="7.480E+05" />
      </inertial>
			<!-- TODO add collision -->

    </link>
  </xacro:macro>

  <!-- TODO add end effector -->

</robot>
