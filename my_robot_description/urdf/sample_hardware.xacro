<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro">
<!-- defined num and set of link and joint -->
<!-- lowest level of xacro -->

<!-- valiables to be used -->
   <material name="black">
      <color rgba="0.2 0.2 0.2 1.0" />
   </material>
<!-- FIXME add color -->
<!-- bracket_1 -->
  <xacro:macro name="bracket_1" params="parent *origin">
    <joint name="bracket_0_1_joint" type="fixed">
      <xacro:insert_block name="origin" />
      <parent link="${parent}" />
      <child link="bracket_1_link" />
    </joint>
    <link name="bracket_1_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to roate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_1_simple.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>
      <!-- FIXME add collision and inetia -->
    </link>
  </xacro:macro>

<!-- bracket_2 -->
  <xacro:macro name="bracket_2" params="parent *origin"> <!-- FIXME add llimit ulimit vlimit -->
    <joint name="bracket_1_2_joint" type="continuous">
      <xacro:insert_block name="origin"/>
      <axis xyz="0 0 1" />
      <parent link="${parent}" />
      <child link="bracket_2_link"/>

    </joint>

    <link name="bracket_2_link">
      <visual> <!-- FIXME change this to stl -->
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_2.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <!-- add collision and inertial -->
      </visual>
    </link>
  </xacro:macro>

<!-- bracket_3 -->
<!-- FIXME maybe will be deleted, when combining with brackets -->
  <xacro:macro name="bracket_3" params="parent *origin">
    <!-- FIXME add limit and ulimit vilimit -->
    <joint name="brackt_2_3_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <parent link="${parent}" />
      <child link="bracket_3_link" />
    </joint>

    <link name="bracket_3_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to roate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_3.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>
    </link>
  </xacro:macro>
 
  <!-- bracket_4 -->
  <xacro:macro name="bracket_4" params="parent *origin">
    <!-- add color and limis -->
    <joint name="bracket_3_4_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <axis xyz="0 0 1" />
      <parent link="${parent}" />
      <child link="bracket_4_link" />
    </joint>
    <link name="bracket_4_link">
      <!-- add collision -->
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_4.stl" scale="0.001 0.001 0.001"  />
        </geometry>
      </visual>
    </link>
  </xacro:macro>


  <!-- bracket_5 -->
  <xacro:macro name="bracket_5" params="parent *origin">
    <joint name="bracket_4_5_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <parent link="${parent}" />
      <child link="bracket_5_link" />
    </joint>

    <link name="bracket_5_link">
      <!-- add collision and so on -->
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_5.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>
    </link>
  </xacro:macro>

  <!-- bracket_6 -->
  <xacro:macro name="bracket_6" params="parent *origin">
    <joint name="bracket_5_6_joint" type="continuous">
      <xacro:insert_block name="origin" />
      <parent link="${parent}"  />
      <child link="bracket_6_link" />
    </joint>

    <link name="bracket_6_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${-1*pi/2} 0" /> <!-- need to roate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_6.stl" scale="0.001 0.001 0.001"  />
        </geometry>
      </visual>
    </link>
  </xacro:macro>

  <!-- end_effector -->
  <xacro:macro name="end_effector" params="parent *origin">
    <joint name="end_effector_joint" type="continuous">
      <xacro:insert_block name="origin"/>
      <axis xyz="0 0 1" />
      <parent link="${parent}" />
      <child link="end_effector_link" />
    </joint> 

    <link name="end_effector_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 ${pi/2} 0" /> <!-- need to rotate model -->
        <geometry>
          <mesh filename="package://my_robot_description/meshes/bracket_7.stl" scale="0.001 0.001 0.001"  />
        </geometry>
        <material name="black" />
      </visual>
    </link>
  </xacro:macro>

</robot>
